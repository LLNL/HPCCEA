
.TH FENCE_AGENT 8 2009-10-20 "fence_compute (Fence Agent)"
.SH NAME
fence_compute - Fence agent for the automatic resurrection of OpenStack compute instances
.SH DESCRIPTION
.P
Used to tell Nova that compute nodes are down and to reschedule flagged instances
.P
fence_compute accepts options on the command line as well
as from stdin. Fenced sends parameters through stdin when it execs the
agent. fence_compute can be run by itself with command
line options.  This is useful for testing and for turning outlets on or off
from scripts.

Vendor URL: 
.SH PARAMETERS

	
.TP
.B -o, --action=[action]
. 
Fencing action (Default Value: off)
	
.TP
.B -k, --auth-url=[tenant]
. 
Keystone Admin Auth URL (Default Value: )
	
.TP
.B -e, --endpoint-type=[endpoint]
. 
Nova Endpoint type (Default Value: internalURL)
	
.TP
.B -l, --username=[name]
. 
Login name
	
.TP
.B -p, --password=[password]
. 
Login password or passphrase
	
.TP
.B -S, --password-script=[script]
. 
Script to run to retrieve password
	
.TP
.B -n, --plug=[id]
. 
Physical plug number on device, UUID or identification of machine This parameter is always required.
	
.TP
.B --region-name=[region]
. 
Region Name (Default Value: )
	
.TP
.B -t, --tenant-name=[tenant]
. 
Keystone Admin Tenant (Default Value: )
	
.TP
.B --insecure
. 
Allow Insecure TLS Requests (Default Value: False)
	
.TP
.B -d, --domain=[string]
. 
DNS domain in which hosts live
	
.TP
.B --instance-filtering
. 
Allow instances to be evacuated (Default Value: True)
	
.TP
.B --no-shared-storage
. 
Disable functionality for dealing with shared storage (Default Value: False)
	
.TP
.B --record-only
. 
Only record the target as needing evacuation (Default Value: False)
	
.TP
.B -v, --verbose
. 
Verbose mode
	
.TP
.B -D, --debug-file=[debugfile]
. 
Write debug information to given file
	
.TP
.B -V, --version
. 
Display version information and exit
	
.TP
.B -h, --help
. 
Display help and exit
	
.TP
.B -C, --separator=[char]
. 
Separator for CSV created by 'list' operation (Default Value: ,)
	
.TP
.B --delay=[seconds]
. 
Wait X seconds before fencing is started (Default Value: 0)
	
.TP
.B --login-timeout=[seconds]
. 
Wait X seconds for cmd prompt after login (Default Value: 5)
	
.TP
.B --power-timeout=[seconds]
. 
Test X seconds for status change after ON/OFF (Default Value: 20)
	
.TP
.B --power-wait=[seconds]
. 
Wait X seconds after issuing ON/OFF (Default Value: 0)
	
.TP
.B --shell-timeout=[seconds]
. 
Wait X seconds for cmd prompt after issuing command (Default Value: 180)
	
.TP
.B --retry-on=[attempts]
. 
Count of attempts to retry power on (Default Value: 1)

.SH ACTIONS

	
.TP
\fBon \fP
Power on machine.
	
.TP
\fBoff \fP
Power off machine.
	
.TP
\fBstatus \fP
This returns the status of the plug/virtual machine.
	
.TP
\fBlist \fP
List available plugs with aliases/virtual machines if there is support for more then one device. Returns N/A otherwise.
	
.TP
\fBlist-status \fP
List available plugs with aliases/virtual machines and their power state if it can be obtained without additional commands.
	
.TP
\fBmonitor \fP
Check the health of fence device
	
.TP
\fBmetadata \fP
Display the XML metadata describing this resource.
	
.TP
\fBvalidate-all \fP
Validate if all required parameters are entered.

.SH STDIN PARAMETERS

	
.TP
.B action
. 
Fencing action (Default Value: off)
	
.TP
.B auth-url
. 
Keystone Admin Auth URL (Default Value: )
	
.TP
.B endpoint-type
. 
Nova Endpoint type (Default Value: internalURL)
	
.TP
.B login
. 
Login name
	
.TP
.B passwd
. 
Login password or passphrase
	
.TP
.B passwd_script
. 
Script to run to retrieve password
	
.TP
.B port
. 
Physical plug number on device, UUID or identification of machine This parameter is always required.
	
.TP
.B region-name
. 
Region Name (Default Value: )
	
.TP
.B tenant-name
. 
Keystone Admin Tenant (Default Value: )
	
.TP
.B insecure
. 
Allow Insecure TLS Requests (Default Value: False)
	
.TP
.B domain
. 
DNS domain in which hosts live
	
.TP
.B instance-filtering
. 
Allow instances to be evacuated (Default Value: True)
	
.TP
.B no-shared-storage
. 
Disable functionality for dealing with shared storage (Default Value: False)
	
.TP
.B record-only
. 
Only record the target as needing evacuation (Default Value: False)
	
.TP
.B verbose
. 
Verbose mode
	
.TP
.B debug
. 
Write debug information to given file
	
.TP
.B version
. 
Display version information and exit
	
.TP
.B help
. 
Display help and exit
	
.TP
.B separator
. 
Separator for CSV created by 'list' operation (Default Value: ,)
	
.TP
.B delay
. 
Wait X seconds before fencing is started (Default Value: 0)
	
.TP
.B login_timeout
. 
Wait X seconds for cmd prompt after login (Default Value: 5)
	
.TP
.B power_timeout
. 
Test X seconds for status change after ON/OFF (Default Value: 20)
	
.TP
.B power_wait
. 
Wait X seconds after issuing ON/OFF (Default Value: 0)
	
.TP
.B shell_timeout
. 
Wait X seconds for cmd prompt after issuing command (Default Value: 180)
	
.TP
.B retry_on
. 
Count of attempts to retry power on (Default Value: 1)
